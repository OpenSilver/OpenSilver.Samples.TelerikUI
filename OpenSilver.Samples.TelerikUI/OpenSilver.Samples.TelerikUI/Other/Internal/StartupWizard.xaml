<UserControl x:Class="OpenSilver.Samples.TelerikUI.StartupWizard"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:OpenSilver.Samples.TelerikUI"
             xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
             Width="250">

    <UserControl.Resources>
        <Style x:Key="progressBarStyle"
               TargetType="ProgressBar">
            <Setter Property="IsIndeterminate"
                    Value="True" />
            <Setter Property="Margin"
                    Value="15 0 15 8" />
            <Setter Property="Maximum"
                    Value="100" />
            <Setter Property="IsTabStop"
                    Value="False" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ProgressBar">
                        <Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Determinate" />
                                    <VisualState x:Name="Indeterminate">
                                        <Storyboard RepeatBehavior="Forever">
                                            <ObjectAnimationUsingKeyFrames Duration="00:00:00"
                                                                           Storyboard.TargetName="IndeterminateDonut"
                                                                           Storyboard.TargetProperty="(UIElement.Visibility)">
                                                <DiscreteObjectKeyFrame KeyTime="00:00:00">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <Visibility>Visible</Visibility>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                            <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                           Storyboard.TargetName="IndeterminateDonut"
                                                                           Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(RotateTransform.Angle)">
                                                <SplineDoubleKeyFrame KeyTime="00:00:01"
                                                                      Value="360" />
                                            </DoubleAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Path x:Name="IndeterminateBackgroundDonut"
                                  RenderTransformOrigin="0.5 0.5"
                                  Stroke="#FFFFC92B"
                                  Height="44"
                                  Width="44">
                                <Path.Fill>
                                    <LinearGradientBrush EndPoint="0.5,1"
                                                         StartPoint="0.5,0">
                                        <GradientStop Color="#FFFFC92B"
                                                      Offset="0" />
                                        <GradientStop Color="#FFFFF7A9"
                                                      Offset="1" />
                                        <GradientStop Color="#FFFFFBCD"
                                                      Offset="0.254" />
                                        <GradientStop Color="#FFFFC92B"
                                                      Offset="0.5" />
                                    </LinearGradientBrush>
                                </Path.Fill>
                                <Path.Data>
                                    <GeometryGroup FillRule="EvenOdd">
                                        <EllipseGeometry Center="22 22"
                                                         RadiusX="20"
                                                         RadiusY="20" />
                                        <EllipseGeometry Center="22 22"
                                                         RadiusX="14"
                                                         RadiusY="14" />
                                    </GeometryGroup>
                                </Path.Data>
                            </Path>
                            <Path x:Name="IndeterminateDonut"
                                  Visibility="Collapsed"
                                  RenderTransformOrigin="0.5 0.5"
                                  Height="44"
                                  Width="44">
                                <Path.Fill>
                                    <RadialGradientBrush Center="0.5,-0.23"
                                                         GradientOrigin="0.8,0.25"
                                                         RadiusX="0.68"
                                                         RadiusY="0.68">
                                        <GradientStop Color="#BFFFFFFF"
                                                      Offset="0" />
                                        <GradientStop Color="#00FFFFFF"
                                                      Offset="1" />
                                        <GradientStop Color="#21FFFFFF"
                                                      Offset="0.65" />
                                    </RadialGradientBrush>
                                </Path.Fill>
                                <Path.RenderTransform>
                                    <TransformGroup>
                                        <RotateTransform />
                                    </TransformGroup>
                                </Path.RenderTransform>
                                <Path.Data>
                                    <GeometryGroup FillRule="EvenOdd">
                                        <EllipseGeometry Center="22 22"
                                                         RadiusX="20"
                                                         RadiusY="20" />
                                        <EllipseGeometry Center="22 22"
                                                         RadiusX="14"
                                                         RadiusY="14" />
                                    </GeometryGroup>
                                </Path.Data>
                            </Path>
                            <Grid x:Name="ProgressBarTrack"
                                  Width="24"
                                  Height="24"
                                  RenderTransformOrigin="0.5 0.5">
                                <Grid.Clip>
                                    <EllipseGeometry RadiusX="12"
                                                     RadiusY="12"
                                                     Center="12 12" />
                                </Grid.Clip>
                                <Grid.RenderTransform>
                                    <RotateTransform Angle="-90" />
                                </Grid.RenderTransform>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Rectangle x:Name="SkipValueSpacer" />
                                <Rectangle x:Name="ProgressBarIndicator"
                                           Grid.Column="1"
                                           Fill="#FFFEE05E" />
                            </Grid>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>

    <BusyIndicator x:Name="busy"
                   ProgressBarStyle="{StaticResource progressBarStyle}">
        <BusyIndicator.BusyContentTemplate>
            <DataTemplate>
                <TextBlock Text="{Binding}"
                           TextAlignment="Center" />
            </DataTemplate>
        </BusyIndicator.BusyContentTemplate>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Border Grid.Row="0"
                    BorderThickness="1"
                    BorderBrush="Black"
                    Padding="7 6">
                <StackPanel VerticalAlignment="Center">
                    <TextBlock Text="Pick a Telerik theme"
                               FontSize="16"
                               FontWeight="Bold" />
                    <TextBlock Text="Choose a theme" />
                </StackPanel>
            </Border>
            <Border Grid.Row="1"
                    BorderThickness="1 0 1 1"
                    BorderBrush="Black"
                    Padding="7 5">
                <StackPanel>
                    <ListBox x:Name="listbox"
                             telerik:StyleManager.Theme="{StaticResource ApplicationTheme}" />
                    <CheckBox x:Name="choice"
                              Margin="0 5 0 0"
                              Content="Remember my choice"
                              IsThreeState="False"
                              telerik:StyleManager.Theme="{StaticResource ApplicationTheme}" />
                </StackPanel>
            </Border>
            <Border Grid.Row="2"
                    Background="#282828"
                    Padding="16 10">
                <Button Content="Continue"
                        Click="Wizard_Completed"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        telerik:StyleManager.Theme="{StaticResource ApplicationTheme}" />
            </Border>
        </Grid>
    </BusyIndicator>

</UserControl>
